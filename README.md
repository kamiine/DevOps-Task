# Devops-parity !

Let's show the automation of the provisioning and deployment process for deploying a substrate network. 

# First step: Docker Compose

I used docker-compose to deploy instances of Prometheus, Grafana and Substrate Network. 
 To start docker compose file: 
```bash		
sudo docker-compose up -d 
```
## Second step: Monitoring

Now let's use scrapped metrics generated by prometheus and show them with grafana dashboards: 
I used [this dashboard](https://grafana.com/grafana/dashboards/11784) for visualizing the substrate node metrics.

![image](https://user-images.githubusercontent.com/36243779/75722843-485eff80-5cdb-11ea-8224-4969f84a6830.png)

## 3rd Step: Kubernetes

I used the [Kompose](https://kompose.io/) command in order to convert the docker-compose file to kubernetes files. The result is in the kubernetes-files folder. 
As I don't have to a public server, I couldn't use the local kubernetes cluster to accomplish this task but the files generated should be enough to deploy a cluster using 
```bash
 kompose convert -o kubernetes-files/
 kompose up 
kubectl apply -f kubernetes-files/substrate-node-deployment.yaml
kubectl apply -f kubernetes-files/prometheus-node-deployment.yaml
kubectl apply -f kubernetes-files/grafana-node-deployment.yaml

```
